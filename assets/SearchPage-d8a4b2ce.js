import{d as m,a as v,c as g,r as h,o as k,b as t,e as o,f as r,w as y,v as S,u as l,i as w,g as x,F as p,h as R,j as B,_ as q,k as f,l as F}from"./index-0650b16c.js";const M="/assets/search-d00c6dcd.svg",N=m({id:"search",state:()=>({searchRes:null,url:"https://dummyjson.com/products/search?q="}),actions:{async getSearch(d){try{const e=(await v.get(this.url+d)).data.products;e.forEach(c=>{g(c)}),this.searchRes=e}catch{console.error("Произошла ошибка при поиске")}}}}),V={class:"search container"},b={class:"search-form"},j=["onClick"],C=r("img",{src:M,alt:""},null,-1),E=[C],$={class:"search-results"},D={key:0,class:"product-cards"},I={key:1,class:"search-notfound"},L=r("h2",null,"Nothing is found :(",-1),P=[L],T={key:2,class:"search-start"},U={__name:"Search",setup(d){let e=h(""),c=N(),i=h([]),n=h("");const _=async u=>{let s=u!==""?u:"";await c.getSearch(s),i.value=c.searchRes,s!=""&&i.value.length!=0?n.value="found":s!=""&&i.value.length===0?n.value="not-found":s===""&&(n.value="null")};return k(()=>{window.scroll(0,0)}),(u,s)=>(t(),o("section",V,[r("form",b,[y(r("input",{onInput:s[0]||(s[0]=a=>_(l(e))),type:"text",required:"",placeholder:"Search...","onUpdate:modelValue":s[1]||(s[1]=a=>w(e)?e.value=a:e=a)},null,544),[[S,l(e)]]),r("button",{onClick:x(_,["prevent"])},E,8,j)]),r("div",$,[l(n)=="found"?(t(),o("div",D,[(t(!0),o(p,null,R(l(i),a=>(t(),B(q,{key:a.id,prod:a},null,8,["prod"]))),128))])):l(n)=="not-found"?(t(),o("div",I,P)):(t(),o("div",T))])]))}},A={__name:"SearchPage",setup(d){return(e,c)=>(t(),o(p,null,[f(U),f(F)],64))}};export{A as default};
